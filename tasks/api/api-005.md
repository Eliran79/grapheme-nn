---
id: api-005
title: Define World Model Traits
status: todo
priority: medium
tags:
- api
- cognitive
- simulation
dependencies:
- api-004
assignee: developer
created: 2025-12-05T22:06:45.585579190Z
estimate: ~
complexity: 5
area: api
---

# Define World Model Traits

## Context
An internal simulation of reality for prediction and planning. GRAPHEME processes symbols but cannot simulate how the world works, predict consequences of actions, or reason about hypothetical situations.

**Gap Analysis**: Without a world model, GRAPHEME cannot:
- Predict outcomes of actions
- Explain why things happen
- Imagine novel situations
- Plan multi-step sequences

## Objectives
- Define trait for internal world simulation
- Enable prediction over time horizons
- Support counterfactual reasoning
- Integrate with causal reasoning

## Tasks
- [ ] Define `WorldModel` struct
- [ ] Define `WorldModeling` trait
- [ ] Define dynamics/transition rules
- [ ] Define counterfactual generation
- [ ] Create `grapheme-world` crate skeleton

## Acceptance Criteria
✅ **Simulation:**
- Can predict state after action
- Supports multi-step lookahead
- Handles uncertainty

✅ **Explanation:**
- Can generate causal explanations
- Supports counterfactual queries

## Technical Notes

### Core Structures
```rust
pub struct WorldModel {
    pub entities: Graph,           // Objects and agents
    pub relations: Graph,          // Spatial, causal, social
    pub dynamics: TransformRules,  // How things change
    pub counterfactuals: Vec<Graph>, // Alternative states
}

pub struct Prediction {
    pub state: Graph,
    pub probability: f32,
    pub time_step: usize,
}
```

### Trait Definition
```rust
pub trait WorldModeling: Send + Sync {
    /// Predict future states given action
    fn predict(&self, state: &Graph, action: &Graph, horizon: usize) -> Vec<Prediction>;

    /// Explain observation via causal graph
    fn explain(&self, observation: &Graph) -> CausalGraph;

    /// Generate novel situation from constraints
    fn imagine(&self, constraints: &Graph) -> Graph;

    /// Update world model from observation
    fn update(&mut self, observation: &Graph);

    /// Simulate action sequence
    fn simulate(&self, initial: &Graph, actions: &[Graph]) -> Vec<Graph>;
}
```

### Files to Create
- `grapheme-world/Cargo.toml`
- `grapheme-world/src/lib.rs`
- `grapheme-world/src/model.rs`
- `grapheme-world/src/dynamics.rs`

## Testing
- [ ] Prediction advances state correctly
- [ ] Explanation identifies causes
- [ ] Imagination respects constraints

## Updates
- 2025-12-05: Task created from AGI gap analysis

## Session Handoff (AI: Complete this when marking task done)
**For the next session/agent working on dependent tasks:**

### Dependencies & Integration
- Depends on: api-004 (Reasoning for CausalGraph)
- Required by: api-008 (Agency), backend-020 (Causal Reasoning)
